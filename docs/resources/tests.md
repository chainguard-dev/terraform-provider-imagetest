---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "imagetest_tests Resource - terraform-provider-imagetest"
subcategory: ""
description: |-
  
---

# imagetest_tests (Resource)





<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `driver` (String) The driver to use for the test suite. Only one driver can be used at a time.
- `images` (Map of String) Images to use for the test suite.

### Optional

- `drivers` (Attributes) The resource specific driver configuration. This is merged with the provider scoped drivers configuration. (see [below for nested schema](#nestedatt--drivers))
- `labels` (Map of String) Metadata to attach to the tests resource. Used for filtering and grouping.
- `name` (String) The name of the test. If one is not provided, a random name will be generated.
- `repo` (String) The target repository the provider will use for pushing/pulling dynamically built images, overriding provider config.
- `skipped` (Boolean) Whether or not the tests were skipped. This is set to true if the tests were skipped, and false otherwise.
- `tests` (Attributes List) An ordered list of test suites to run (see [below for nested schema](#nestedatt--tests))
- `timeout` (String) The maximum amount of time to wait for all tests to complete. This includes the time it takes to start and destroy the driver.

### Read-Only

- `id` (String) The unique identifier for the test. If a name is provided, this will be the name appended with a random suffix.

<a id="nestedatt--drivers"></a>
### Nested Schema for `drivers`

Optional:

- `docker_in_docker` (Attributes) The docker_in_docker driver (see [below for nested schema](#nestedatt--drivers--docker_in_docker))
- `ec2` (Attributes) The AWS EC2 driver. (see [below for nested schema](#nestedatt--drivers--ec2))
- `eks_with_eksctl` (Attributes) The eks_with_eksctl driver (see [below for nested schema](#nestedatt--drivers--eks_with_eksctl))
- `k3s_in_docker` (Attributes) The k3s_in_docker driver (see [below for nested schema](#nestedatt--drivers--k3s_in_docker))

<a id="nestedatt--drivers--docker_in_docker"></a>
### Nested Schema for `drivers.docker_in_docker`

Optional:

- `image` (String) The image reference to use for the docker-in-docker driver
- `mirrors` (List of String)


<a id="nestedatt--drivers--ec2"></a>
### Nested Schema for `drivers.ec2`

Optional:

- `ami` (String) The AMI to use for the AMI driver (default is Ubuntu-24.04).
- `device_mounts` (List of String)
- `exec` (Attributes) Comamnds to execute on the EC2 instance after launch. (see [below for nested schema](#nestedatt--drivers--ec2--exec))
- `instance_ip` (String) By default the EC2 driver will create and destroy many AWS resources (instance, VPC, IGW, etc.). To instead use an SSH-enabled environment provisioned outside of this driver, you may provide its IP address here. **NOTE**: This will override 'instance_type' and 'AMI'!
- `instance_type` (String) The AWS EC2 instance type to launch (default is TODO).
- `mount_all_gpus` (Boolean)
- `region` (String) The AWS region to use for the EC2 driver (default is us-west-2).
- `volume_mounts` (List of String)

<a id="nestedatt--drivers--ec2--exec"></a>
### Nested Schema for `drivers.ec2.exec`

Optional:

- `commands` (List of String)
- `env` (Map of String)
- `shell` (String)
- `user` (String)
- `user_data` (String)



<a id="nestedatt--drivers--eks_with_eksctl"></a>
### Nested Schema for `drivers.eks_with_eksctl`

Optional:

- `node_ami` (String) The AMI to use for the eks_with_eksctl driver (default is the latest EKS optimized AMI)
- `node_count` (Number) The number of nodes to use for the eks_with_eksctl driver (default is 1)
- `node_type` (String) The instance type to use for the eks_with_eksctl driver (default is m5.large)
- `pod_identity_associations` (Attributes List) Pod Identity Associations for the EKS driver (see [below for nested schema](#nestedatt--drivers--eks_with_eksctl--pod_identity_associations))
- `region` (String) The AWS region to use for the eks_with_eksctl driver (default is us-west-2)
- `storage` (Attributes) Storage configuration for the eks_with_eksctl driver (see [below for nested schema](#nestedatt--drivers--eks_with_eksctl--storage))

<a id="nestedatt--drivers--eks_with_eksctl--pod_identity_associations"></a>
### Nested Schema for `drivers.eks_with_eksctl.pod_identity_associations`

Optional:

- `namespace` (String) Kubernetes namespace of the service account
- `permission_policy_arn` (String) ARN of the permission policy
- `service_account_name` (String) Name of the Kubernetes service account


<a id="nestedatt--drivers--eks_with_eksctl--storage"></a>
### Nested Schema for `drivers.eks_with_eksctl.storage`

Optional:

- `size` (String) The size of the storage volume (e.g., '20Gi')
- `type` (String) The type of storage to use (e.g., 'gp2', 'gp3')



<a id="nestedatt--drivers--k3s_in_docker"></a>
### Nested Schema for `drivers.k3s_in_docker`

Optional:

- `cni` (Boolean) Enable the CNI plugin
- `hooks` (Attributes) Run commands at various lifecycle events (see [below for nested schema](#nestedatt--drivers--k3s_in_docker--hooks))
- `image` (String) The image reference to use for the k3s_in_docker driver
- `metrics_server` (Boolean) Enable the metrics server
- `network_policy` (Boolean) Enable the network policy
- `registries` (Attributes Map) A map of registries containing configuration for optional auth, tls, and mirror configuration. (see [below for nested schema](#nestedatt--drivers--k3s_in_docker--registries))
- `snapshotter` (String) The snapshotter to use for the k3s_in_docker driver
- `traefik` (Boolean) Enable the traefik ingress controller

<a id="nestedatt--drivers--k3s_in_docker--hooks"></a>
### Nested Schema for `drivers.k3s_in_docker.hooks`

Optional:

- `post_start` (List of String)


<a id="nestedatt--drivers--k3s_in_docker--registries"></a>
### Nested Schema for `drivers.k3s_in_docker.registries`

Optional:

- `mirrors` (Attributes) A map of registries containing configuration for optional auth, tls, and mirror configuration. (see [below for nested schema](#nestedatt--drivers--k3s_in_docker--registries--mirrors))

<a id="nestedatt--drivers--k3s_in_docker--registries--mirrors"></a>
### Nested Schema for `drivers.k3s_in_docker.registries.mirrors`

Optional:

- `endpoints` (List of String)





<a id="nestedatt--tests"></a>
### Nested Schema for `tests`

Required:

- `image` (String) The image reference to use as the base image for the test.
- `name` (String) The name of the test

Optional:

- `artifact` (Attributes) The bundled artifact generated by the test. (see [below for nested schema](#nestedatt--tests--artifact))
- `cmd` (String) When specified, will override the sandbox image's CMD (oci config).
- `content` (Attributes List) The content to use for the test (see [below for nested schema](#nestedatt--tests--content))
- `envs` (Map of String) Environment variables to set on the test container. These will overwrite the environment variables set in the image's config on conflicts.
- `timeout` (String) The maximum amount of time to wait for the individual test to complete. This is encompassed by the overall timeout of the parent tests resource.

<a id="nestedatt--tests--artifact"></a>
### Nested Schema for `tests.artifact`

Read-Only:

- `checksum` (String) The checksum of the artifact.
- `uri` (String) The URI of the artifact. The artifact is in targz format.


<a id="nestedatt--tests--content"></a>
### Nested Schema for `tests.content`

Required:

- `source` (String) The source path to use for the test

Optional:

- `target` (String) The target path to use for the test
