---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "imagetest_harness_docker Resource - terraform-provider-imagetest"
subcategory: ""
description: |-
  A harness that runs steps in a sandbox container with access to a Docker daemon.
---

# imagetest_harness_docker (Resource)

A harness that runs steps in a sandbox container with access to a Docker daemon.



<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `inventory` (Attributes) The inventory this harness belongs to. This is received as a direct input from a data.imagetest_inventory data source. (see [below for nested schema](#nestedatt--inventory))
- `name` (String) The name of the harness. This must be unique within the scope of the provided inventory.

### Optional

- `envs` (Map of String) Environment variables to set on the container.
- `image` (String) The full image reference to use for the container.
- `keyrings` (List of String) A list of keyrings to add to the container.
- `layers` (Attributes List) The list of layers to add to the container. (see [below for nested schema](#nestedatt--layers))
- `mounts` (Attributes List, Deprecated) The list of mounts to create on the container. (see [below for nested schema](#nestedatt--mounts))
- `networks` (Attributes Map) A map of existing networks to attach the container to. (see [below for nested schema](#nestedatt--networks))
- `packages` (List of String) A list of packages to install in the container.
- `privileged` (Boolean)
- `registries` (Attributes Map) A map of registries containing configuration for optional auth, tls, and mirror configuration. (see [below for nested schema](#nestedatt--registries))
- `repositories` (List of String) A list of repositories to use for the container.
- `resources` (Attributes) (see [below for nested schema](#nestedatt--resources))
- `timeouts` (Attributes) (see [below for nested schema](#nestedatt--timeouts))
- `volumes` (Attributes List) The volumes this harness should mount. This is received as a mapping from imagetest_container_volume resources to destination folders. (see [below for nested schema](#nestedatt--volumes))

### Read-Only

- `id` (String) The unique identifier for the harness. This is generated from the inventory seed and harness name.

<a id="nestedatt--inventory"></a>
### Nested Schema for `inventory`

Required:

- `seed` (String)


<a id="nestedatt--layers"></a>
### Nested Schema for `layers`

Required:

- `destination` (String) The absolute path on the container to root the source directory in.
- `source` (String) The relative or absolute path on the host to the source directory to create a layer from.


<a id="nestedatt--mounts"></a>
### Nested Schema for `mounts`

Required:

- `destination` (String) The absolute path on the container to mount the source directory.
- `source` (String) The relative or absolute path on the host to the source directory to mount.


<a id="nestedatt--networks"></a>
### Nested Schema for `networks`

Required:

- `name` (String) The name of the existing network to attach the container to.


<a id="nestedatt--registries"></a>
### Nested Schema for `registries`

Optional:

- `auth` (Attributes) (see [below for nested schema](#nestedatt--registries--auth))

<a id="nestedatt--registries--auth"></a>
### Nested Schema for `registries.auth`

Optional:

- `auth` (String)
- `password` (String, Sensitive)
- `username` (String)



<a id="nestedatt--resources"></a>
### Nested Schema for `resources`

Optional:

- `cpu` (Attributes) (see [below for nested schema](#nestedatt--resources--cpu))
- `memory` (Attributes) (see [below for nested schema](#nestedatt--resources--memory))

<a id="nestedatt--resources--cpu"></a>
### Nested Schema for `resources.cpu`

Optional:

- `limit` (String) Unused.
- `request` (String) Quantity of CPUs requested for the harness container


<a id="nestedatt--resources--memory"></a>
### Nested Schema for `resources.memory`

Optional:

- `limit` (String) Limit of memory the harness container can consume
- `request` (String) Amount of memory requested for the harness container



<a id="nestedatt--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) The maximum time to wait for the k3s harness to be created.


<a id="nestedatt--volumes"></a>
### Nested Schema for `volumes`

Required:

- `destination` (String)
- `source` (Attributes) (see [below for nested schema](#nestedatt--volumes--source))

<a id="nestedatt--volumes--source"></a>
### Nested Schema for `volumes.source`

Required:

- `id` (String)
- `inventory` (Attributes) (see [below for nested schema](#nestedatt--volumes--source--inventory))
- `name` (String)

<a id="nestedatt--volumes--source--inventory"></a>
### Nested Schema for `volumes.source.inventory`

Required:

- `seed` (String)
